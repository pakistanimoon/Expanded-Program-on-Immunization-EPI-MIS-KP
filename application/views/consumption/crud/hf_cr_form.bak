<?php 
date_default_timezone_set('Asia/Karachi');
$current_date = date('d-m-Y');
 if(isset($formB_Result)){ 
 $year=substr($formB_Result->fmonth,0,4);
 $month=substr($formB_Result->fmonth,5,7);
 
 }

?>
<!--start of page content or body-->
<div class="container bodycontainer">  
	<div class="row">
		<div class="panel panel-primary">
			<?php if($this -> session -> flashdata('message')){  ?><div class="alert alert-success text-center " role="alert"><strong><?php echo $this -> session -> flashdata('message'); ?></strong></div> <?php } ?>
			<div class="panel-heading">Health Facility Monthly Consumption Form</div>
			<div class="panel-body">
				<?php echo form_open(base_url().'consumption/save',array("id"=>"consumptionform","class"=>"form-horizontal")); ?>
					<?php if(isset($formB_Result)){ ?>
						<input type="hidden" name="edit" id="edit" value="edit" />
						<input type="hidden" name="id" id="id" value="<?php echo $formB_Result->id; ?>" />
					<?php } ?>
					<table class="table table-bordered table-striped table-hover  mytable">
						<tr>
							<td><label style="margin-top: 7px;">Province</label></td>
							<td><input class="form-control" name="procode"  readonly="readonly" id="procode" placeholder=" <?php echo $this -> session -> provincename ?>" type="text"></td>
							<td><label style="margin-top: 7px;">District</label></td>
							<td>
								<select id="distcode" name="distcode" class="form-control">
									<?php if(isset($formB_Result)){ ?>
										<option value="<?php echo $formB_Result -> distcode; ?>"><?php echo get_District_Name($formB_Result -> distcode); ?></option>
									<?php }else{ getDistricts(false,$this -> session -> District); } ?>
								</select>
							</td>
							<td><label style="margin-top: 7px;">Date (MM/YY)</label></td>
							<td>
								<table style="width: 100%;">
									<tr>
										<td>
											<select name="month" id="month" class="form-control">
											<?php if(isset($formB_Result)){ ?> <option value="<?php echo $month; ?>"><?php echo monthname($month); ?></option> <?php }else{ getAllMonthsOptions(false); } ?>
											</select>
										</td>
										<td>
											<select name="year" id="year" class="form-control">
											<?php if(isset($formB_Result)){ ?> <option value="<?php echo $year; ?>"><?php echo $year; ?></option> <?php }else{ getAllYearsOptions(false); /* getAllYearsOptionsIncludingCurrent(false); */ } ?>
											</select>
										</td>
									</tr>
								</table>             	
							</td>
						</tr>
						<tr>
							<td><label style="margin-top: 7px;">Tehsil</label></td>
							<td>
								<select id="tcode" name="tcode" class="form-control">
									<?php if(isset($formB_Result)){ ?>
										<option value="<?php echo $formB_Result -> tcode; ?>"><?php echo get_Tehsil_Name($formB_Result -> tcode); ?></option>
									<?php }else{ ?> 
									<?php getTehsils_options(false); } ?>
								</select>
							</td>
							<td><label style="margin-top: 7px;">UC</label></td>
							<td>
							<input id="module" type="hidden" value="vaccine">
								<select id="uncode" name="uncode" class="form-control">
									<?php if(isset($formB_Result)){ ?>
									<option value="<?php echo $formB_Result -> uncode; ?>"><?php echo get_UC_Name($formB_Result -> uncode); ?></option>
									<?php }else{ ?> 
									<?php getUCs_options(false); } ?>
								</select>
							</td>
							<td><label style="margin-top: 7px;">Health Facility/Store</label></td>
							<td>
								<select id="facode" name="facode" class="form-control">
									<?php if(isset($formB_Result)){ ?>
							<option value="<?php echo $formB_Result -> facode; ?>"><?php echo get_Facility_Name($formB_Result -> facode); ?></option>
									<?php }else{ ?>
									<?php getFacilities_options(false); } ?>
								</select>
							</td>
						</tr> 
					</table>
					<table class="table table-bordered table-condensed table-striped table-hover mytable">
						<thead>
							<tr>
								<th rowspan="2" style="width:14%;"><label>Product</label></th>
								<th rowspan="2" style="width:7%;"><label>Batch number</label></th>
								<th rowspan="2" style="width:1%;"><label>Doses Per Vial</label></th>
								<th><label>Opening Balance</label></th>
								<th><label>Received</label></th>
								<th><label>Children Vaccinated</label></th>
								<th colspan="2"><label>Used</label></th>
								<th colspan="2"><label>Unusable</label></th>
								<th colspan="2"><label>Closing Balance</label></th>
							</tr>
							<tr>
								<th>Doses</th>
								<th>Doses</th>
								<th>Nos.</th>
								<th>Vials</th>
								<th>Doses</th>
								<th>Vials</th>
								<th>Doses</th>
								<th>Vials</th>
								<th>Doses</th>
							</tr>
							<tr style="background: white none repeat scroll 0% 0%; color: black;">
								<th></th>
								<th></th>
								<th>A</th>
								<th>B</th>
								<th>C</th>
								<th>D</th>
								<th>E</th>
								<th></th>
								<th>F</th>
								<th></th>
								<th>G</th>
								<th></th>
							</tr>
						</thead>
						<tbody id="myTable" class="consumptionitems default">
							<tr class="text-center">
								<td colspan="12" style="font-size:20px">Please Select criteria from above section, Item(s) will be loaded automatically.</td>									
							</tr>
						</tbody>
					</table>
					<div class="row">
						<div class="col-sm-12">
							<table class="table table-bordered table-striped">
								<tr>
									<td><label style="margin-top: 7px;">Prepared by</label></td>
									<td><input class="form-control" name="prepare_by" id="prepare_by"  value="<?php if(isset($formB_Result)){ echo $formB_Result->prepared_by; } ?>" type="text"></td>
								   
									<td><label style="margin-top: 7px;">Medical Officer / In-charge Name</label></td>
									<td><input class="form-control" name="incharge" id="incharge" value="<?php if(isset($formB_Result)){ echo $formB_Result->hf_incharge; } ?>" type="text"></td>
								  
									<td><label style="margin-top: 7px;">Date</label></td>
									<td><input class="form-control" readonly="readonly" name="date_submitted" id="date_submitted" value="<?php if(isset($formB_Result)){ if($formB_Result->created_date!= '1969-12-31'){ echo date('d-m-Y',strtotime($formB_Result->created_date)); }else{ echo $current_date; } } else{ echo $current_date; }?>" type="text"></td>
								</tr>
							</table>
						</div>
					</div>					
					<div class="row">      
						<div style="text-align: right;" class="col-md-12">
							<span style="color:red" class="pull-left"><b>Note: </b>Only those products/batches are showing in above table which have atleast 1 vials/dose/pieces available in stock for respective HF in selected month.</span>
						</div>
					</div>
					<div class="row">
						<hr>
						<div style="text-align: right;" class="col-md-12 col-sm-12 col-xs-12">
							<span style="color:red;padding-top:8px;" class="pull-left"><input type="checkbox" id="accepted" value="1"> I confirm that data entered against each product is correct and I want to submit report.</span>
							<button style="background: rgb(22, 108, 29) none repeat scroll 0% 0%;" type="submit" class="btn btn-primary btn-md" disabled="disabled" id="savebtn"><i class="fa fa-floppy-o "></i> Save </button>
							<button style="background: rgb(22, 108, 29) none repeat scroll 0% 0%;" class="btn btn-primary btn-md" type="reset"><i class="fa fa-repeat"></i> Reset </button>
							<a onclick="history.go(-1);" style="background: rgb(22, 108, 29) none repeat scroll 0% 0%;" class="btn btn-primary btn-md"><i class="fa fa-times"></i> Cancel </a>
						</div>
					</div>
				<?php echo form_close(); ?>
			</div> <!--end of panel body-->
		</div> <!--end of panel panel-primary-->
	</div><!--end of row-->
</div><!--End of page content or body-->
<script type="text/javascript">
$(document).ready(function(){
	/* $('.gp').on("keyup", function(){
		var row = $(this).parent().parent().index();
		var colC = isNaN(parseInt($('#myTable tr:eq('+row+') td:eq(3) input').val())) ? 0 : parseInt($('#myTable tr:eq('+row+') td:eq(3) input').val());
		var colB = isNaN(parseInt($('#myTable tr:eq('+row+') td:eq(2) input').val())) ? 0 : parseInt($('#myTable tr:eq('+row+') td:eq(2) input').val());
		var colE = isNaN(parseInt($('#myTable tr:eq('+row+') td:eq(5) input').val())) ? 0 : parseInt($('#myTable tr:eq('+row+') td:eq(5) input').val());
		var colF = isNaN(parseInt($('#myTable tr:eq('+row+') td:eq(6) input').val())) ? 0 : parseInt($('#myTable tr:eq('+row+') td:eq(6) input').val());
		var a1 = colB + colC;
		if(row == 0 || row == 2 || row == 8){
			a1 = a1/20;
		}else if(row == 4){
			a1 = a1/2;
		}else if(row == 11){
			a1 = a1/5;
		}else if(row == 5 || row == 7 || row == 9 || row == 10){
			a1 = a1/10;
		}else{}
		var a2 = colE + colF;
		var closing_balance = Math.round(a1 - a2);
		if(closing_balance < 0 ){
			$('#myTable tr:eq('+row+') td:eq(7) input').css("background-color","#F54F4F");
			$('#myTable tr:eq('+row+') td:eq(7) input').css("color","#FFF");
			$('#myTable tr:eq('+row+') td:eq(7) input').val(closing_balance);
		}
		else{
			$('#myTable tr:eq('+row+') td:eq(7) input').css("background-color","#FFF");
			$('#myTable tr:eq('+row+') td:eq(7) input').css("color","#000");
			$('#myTable tr:eq('+row+') td:eq(7) input').val(closing_balance);
			
		}
		var colG = isNaN(parseInt($('#myTable tr:eq('+row+') td:eq(7) input').val())) ? 0 : parseInt($('#myTable tr:eq('+row+') td:eq(7) input').val());
		var colH = isNaN(parseInt($('#myTable tr:eq('+row+') td:eq(8) input').val())) ? 0 : parseInt($('#myTable tr:eq('+row+') td:eq(8) input').val());
		if(colH > colG && colG >= 0){
			var v = colH - colG;
				$('#myTable tr:eq('+row+') td:eq(9) input').val(v);
		}
	}); */
	/* function set_children_vacc(){
		var month = $('#month').val();
		var year = $('#year').val();
		var facode = $('#facode').val();
		if(facode!=0){
			$.ajax({
				type: "POST",
				data: {month:month,year:year,facode:facode},
				url: "<?php echo base_url(); ?>Ajax_calls/getEPIVaccinationBalance",
				success: function(result){
					var resultarray = JSON.parse(result);
					
					var BCG = parseInt(resultarray['cri_r1_f1']) + parseInt(resultarray['cri_r2_f1']) + parseInt(resultarray['cri_r3_f1']) + parseInt(resultarray['cri_r4_f1']) + parseInt(resultarray['cri_r5_f1']) + parseInt(resultarray['cri_r6_f1']) + parseInt(resultarray['cri_r7_f1']) + parseInt(resultarray['cri_r8_f1']) + parseInt(resultarray['cri_r9_f1']) + parseInt(resultarray['cri_r10_f1']) + parseInt(resultarray['cri_r11_f1']) + parseInt(resultarray['cri_r12_f1']) + parseInt(resultarray['cri_r13_f1']) + parseInt(resultarray['cri_r14_f1']) + parseInt(resultarray['cri_r15_f1']) + parseInt(resultarray['cri_r16_f1']) + parseInt(resultarray['cri_r17_f1']) + parseInt(resultarray['cri_r18_f1']) + parseInt(resultarray['cri_r19_f1']) + parseInt(resultarray['cri_r20_f1']) + parseInt(resultarray['cri_r21_f1']) + parseInt(resultarray['cri_r22_f1']) + parseInt(resultarray['cri_r23_f1']) + parseInt(resultarray['cri_r24_f1']) + parseInt(resultarray['oui_r1_f1']) + parseInt(resultarray['oui_r2_f1']) + parseInt(resultarray['oui_r3_f1']) + parseInt(resultarray['oui_r4_f1']) + parseInt(resultarray['oui_r5_f1']) + parseInt(resultarray['oui_r6_f1']) + parseInt(resultarray['oui_r7_f1']) + parseInt(resultarray['oui_r8_f1']) + parseInt(resultarray['oui_r9_f1']) + parseInt(resultarray['oui_r10_f1']) + parseInt(resultarray['oui_r11_f1']) + parseInt(resultarray['oui_r12_f1']) + parseInt(resultarray['oui_r13_f1']) + parseInt(resultarray['oui_r14_f1']) + parseInt(resultarray['oui_r15_f1']) + parseInt(resultarray['oui_r16_f1']) + parseInt(resultarray['oui_r17_f1']) + parseInt(resultarray['oui_r18_f1']) + parseInt(resultarray['oui_r19_f1']) + parseInt(resultarray['oui_r20_f1']) + parseInt(resultarray['oui_r21_f1']) + parseInt(resultarray['oui_r22_f1']) + parseInt(resultarray['oui_r23_f1']) + parseInt(resultarray['oui_r24_f1']) + parseInt(resultarray['od_r1_f1']) + parseInt(resultarray['od_r2_f1']) + parseInt(resultarray['od_r3_f1']) + parseInt(resultarray['od_r4_f1']) + parseInt(resultarray['od_r5_f1']) + parseInt(resultarray['od_r6_f1']) + parseInt(resultarray['od_r7_f1']) + parseInt(resultarray['od_r8_f1']) + parseInt(resultarray['od_r9_f1']) + parseInt(resultarray['od_r10_f1']) + parseInt(resultarray['od_r11_f1']) + parseInt(resultarray['od_r12_f1']) + parseInt(resultarray['od_r13_f1']) + parseInt(resultarray['od_r14_f1']) + parseInt(resultarray['od_r15_f1']) + parseInt(resultarray['od_r16_f1']) + parseInt(resultarray['od_r17_f1']) + parseInt(resultarray['od_r18_f1']) + parseInt(resultarray['od_r19_f1']) + parseInt(resultarray['od_r20_f1']) + parseInt(resultarray['od_r21_f1']) + parseInt(resultarray['od_r22_f1']) + parseInt(resultarray['od_r23_f1']) + parseInt(resultarray['od_r24_f1']);
					//alert(parseInt(resultarray['oui_r1_f1']) + parseInt(resultarray['oui_r2_f1']) + parseInt(resultarray['oui_r3_f1']) + parseInt(resultarray['oui_r4_f1']) + parseInt(resultarray['oui_r5_f1']) + parseInt(resultarray['oui_r6_f1']) + parseInt(resultarray['oui_r7_f1']) + parseInt(resultarray['oui_r8_f1']) + parseInt(resultarray['oui_r9_f1']) + parseInt(resultarray['oui_r10_f1']) + parseInt(resultarray['oui_r11_f1']) + parseInt(resultarray['oui_r12_f1']) + parseInt(resultarray['oui_r13_f1']) + parseInt(resultarray['oui_r14_f1']) + parseInt(resultarray['oui_r15_f1']) + parseInt(resultarray['oui_r16_f1']) + parseInt(resultarray['oui_r17_f1']) + parseInt(resultarray['oui_r18_f1']) + parseInt(resultarray['oui_r19_f1']) + parseInt(resultarray['oui_r20_f1']) + parseInt(resultarray['oui_r21_f1']) + parseInt(resultarray['oui_r22_f1']) + parseInt(resultarray['oui_r23_f1']) + parseInt(resultarray['oui_r24_f1']) + parseInt(resultarray['od_r1_f1']) + parseInt(resultarray['od_r2_f1']) + parseInt(resultarray['od_r3_f1']) + parseInt(resultarray['od_r4_f1']) + parseInt(resultarray['od_r5_f1']) + parseInt(resultarray['od_r6_f1']) + parseInt(resultarray['od_r7_f1']) + parseInt(resultarray['od_r8_f1']) + parseInt(resultarray['od_r9_f1']) + parseInt(resultarray['od_r10_f1']) + parseInt(resultarray['od_r11_f1']) + parseInt(resultarray['od_r12_f1']) + parseInt(resultarray['od_r13_f1']) + parseInt(resultarray['od_r14_f1']) + parseInt(resultarray['od_r15_f1']) + parseInt(resultarray['od_r16_f1']) + parseInt(resultarray['od_r17_f1']) + parseInt(resultarray['od_r18_f1']) + parseInt(resultarray['od_r19_f1']) + parseInt(resultarray['od_r20_f1']) + parseInt(resultarray['od_r21_f1']) + parseInt(resultarray['od_r22_f1']) + parseInt(resultarray['od_r23_f1']) + parseInt(resultarray['od_r24_f1']));
					var bOPV = parseInt(resultarray['cri_r1_f3']) + parseInt(resultarray['cri_r2_f3']) + parseInt(resultarray['cri_r3_f3']) + parseInt(resultarray['cri_r4_f3']) + parseInt(resultarray['cri_r5_f3']) + parseInt(resultarray['cri_r6_f3']) + parseInt(resultarray['cri_r7_f3']) + parseInt(resultarray['cri_r8_f3']) + parseInt(resultarray['cri_r9_f3']) + parseInt(resultarray['cri_r10_f3']) + parseInt(resultarray['cri_r11_f3']) + parseInt(resultarray['cri_r12_f3']) + parseInt(resultarray['cri_r13_f3']) + parseInt(resultarray['cri_r14_f3']) + parseInt(resultarray['cri_r15_f3']) + parseInt(resultarray['cri_r16_f3']) + parseInt(resultarray['cri_r17_f3']) + parseInt(resultarray['cri_r18_f3']) + parseInt(resultarray['cri_r19_f3']) + parseInt(resultarray['cri_r20_f3']) + parseInt(resultarray['cri_r21_f3']) + parseInt(resultarray['cri_r22_f3']) + parseInt(resultarray['cri_r23_f3']) + parseInt(resultarray['cri_r24_f3']) + parseInt(resultarray['cri_r1_f4']) + parseInt(resultarray['cri_r2_f4']) + parseInt(resultarray['cri_r3_f4']) + parseInt(resultarray['cri_r4_f4']) + parseInt(resultarray['cri_r5_f4']) + parseInt(resultarray['cri_r6_f4']) + parseInt(resultarray['cri_r7_f4']) + parseInt(resultarray['cri_r8_f4']) + parseInt(resultarray['cri_r9_f4']) + parseInt(resultarray['cri_r10_f4']) + parseInt(resultarray['cri_r11_f4']) + parseInt(resultarray['cri_r12_f4']) + parseInt(resultarray['cri_r13_f4']) + parseInt(resultarray['cri_r14_f4']) + parseInt(resultarray['cri_r15_f4']) + parseInt(resultarray['cri_r16_f4']) + parseInt(resultarray['cri_r17_f4']) + parseInt(resultarray['cri_r18_f4']) + parseInt(resultarray['cri_r19_f4']) + parseInt(resultarray['cri_r20_f4']) + parseInt(resultarray['cri_r21_f4']) + parseInt(resultarray['cri_r22_f4']) + parseInt(resultarray['cri_r23_f4']) + parseInt(resultarray['cri_r24_f4']) + parseInt(resultarray['cri_r1_f5']) + parseInt(resultarray['cri_r2_f5']) + parseInt(resultarray['cri_r3_f5']) + parseInt(resultarray['cri_r4_f5']) + parseInt(resultarray['cri_r5_f5']) + parseInt(resultarray['cri_r6_f5']) + parseInt(resultarray['cri_r7_f5']) + parseInt(resultarray['cri_r8_f5']) + parseInt(resultarray['cri_r9_f5']) + parseInt(resultarray['cri_r10_f5']) + parseInt(resultarray['cri_r11_f5']) + parseInt(resultarray['cri_r12_f5']) + parseInt(resultarray['cri_r13_f5']) + parseInt(resultarray['cri_r14_f5']) + parseInt(resultarray['cri_r15_f5']) + parseInt(resultarray['cri_r16_f5']) + parseInt(resultarray['cri_r17_f5']) + parseInt(resultarray['cri_r18_f5']) + parseInt(resultarray['cri_r19_f5']) + parseInt(resultarray['cri_r20_f5']) + parseInt(resultarray['cri_r21_f5']) + parseInt(resultarray['cri_r22_f5']) + parseInt(resultarray['cri_r23_f5']) + parseInt(resultarray['cri_r24_f5']) + parseInt(resultarray['cri_r1_f6']) + parseInt(resultarray['cri_r2_f6']) + parseInt(resultarray['cri_r3_f6']) + parseInt(resultarray['cri_r4_f6']) + parseInt(resultarray['cri_r5_f6']) + parseInt(resultarray['cri_r6_f6']) + parseInt(resultarray['cri_r7_f6']) + parseInt(resultarray['cri_r8_f6']) + parseInt(resultarray['cri_r9_f6']) + parseInt(resultarray['cri_r10_f6']) + parseInt(resultarray['cri_r11_f6']) + parseInt(resultarray['cri_r12_f6']) + parseInt(resultarray['cri_r13_f6']) + parseInt(resultarray['cri_r14_f6']) + parseInt(resultarray['cri_r15_f6']) + parseInt(resultarray['cri_r16_f6']) + parseInt(resultarray['cri_r17_f6']) + parseInt(resultarray['cri_r18_f6']) + parseInt(resultarray['cri_r19_f6']) + parseInt(resultarray['cri_r20_f6']) + parseInt(resultarray['cri_r21_f6']) + parseInt(resultarray['cri_r22_f6']) + parseInt(resultarray['cri_r23_f6']) + parseInt(resultarray['cri_r24_f6']) + parseInt(resultarray['oui_r1_f3']) + parseInt(resultarray['oui_r2_f3']) + parseInt(resultarray['oui_r3_f3']) + parseInt(resultarray['oui_r4_f3']) + parseInt(resultarray['oui_r5_f3']) + parseInt(resultarray['oui_r6_f3']) + parseInt(resultarray['oui_r7_f3']) + parseInt(resultarray['oui_r8_f3']) + parseInt(resultarray['oui_r9_f3']) + parseInt(resultarray['oui_r10_f3']) + parseInt(resultarray['oui_r11_f3']) + parseInt(resultarray['oui_r12_f3']) + parseInt(resultarray['oui_r13_f3']) + parseInt(resultarray['oui_r14_f3']) + parseInt(resultarray['oui_r15_f3']) + parseInt(resultarray['oui_r16_f3']) + parseInt(resultarray['oui_r17_f3']) + parseInt(resultarray['oui_r18_f3']) + parseInt(resultarray['oui_r19_f3']) + parseInt(resultarray['oui_r20_f3']) + parseInt(resultarray['oui_r21_f3']) + parseInt(resultarray['oui_r22_f3']) + parseInt(resultarray['oui_r23_f3']) + parseInt(resultarray['oui_r24_f3']) + parseInt(resultarray['oui_r1_f4']) + parseInt(resultarray['oui_r2_f4']) + parseInt(resultarray['oui_r3_f4']) + parseInt(resultarray['oui_r4_f4']) + parseInt(resultarray['oui_r5_f4']) + parseInt(resultarray['oui_r6_f4']) + parseInt(resultarray['oui_r7_f4']) + parseInt(resultarray['oui_r8_f4']) + parseInt(resultarray['oui_r9_f4']) + parseInt(resultarray['oui_r10_f4']) + parseInt(resultarray['oui_r11_f4']) + parseInt(resultarray['oui_r12_f4']) + parseInt(resultarray['oui_r13_f4']) + parseInt(resultarray['oui_r14_f4']) + parseInt(resultarray['oui_r15_f4']) + parseInt(resultarray['oui_r16_f4']) + parseInt(resultarray['oui_r17_f4']) + parseInt(resultarray['oui_r18_f4']) + parseInt(resultarray['oui_r19_f4']) + parseInt(resultarray['oui_r20_f4']) + parseInt(resultarray['oui_r21_f4']) + parseInt(resultarray['oui_r22_f4']) + parseInt(resultarray['oui_r23_f4']) + parseInt(resultarray['oui_r24_f4']) + parseInt(resultarray['oui_r1_f5']) + parseInt(resultarray['oui_r2_f5']) + parseInt(resultarray['oui_r3_f5']) + parseInt(resultarray['oui_r4_f5']) + parseInt(resultarray['oui_r5_f5']) + parseInt(resultarray['oui_r6_f5']) + parseInt(resultarray['oui_r7_f5']) + parseInt(resultarray['oui_r8_f5']) + parseInt(resultarray['oui_r9_f5']) + parseInt(resultarray['oui_r10_f5']) + parseInt(resultarray['oui_r11_f5']) + parseInt(resultarray['oui_r12_f5']) + parseInt(resultarray['oui_r13_f5']) + parseInt(resultarray['oui_r14_f5']) + parseInt(resultarray['oui_r15_f5']) + parseInt(resultarray['oui_r16_f5']) + parseInt(resultarray['oui_r17_f5']) + parseInt(resultarray['oui_r18_f5']) + parseInt(resultarray['oui_r19_f5']) + parseInt(resultarray['oui_r20_f5']) + parseInt(resultarray['oui_r21_f5']) + parseInt(resultarray['oui_r22_f5']) + parseInt(resultarray['oui_r23_f5']) + parseInt(resultarray['oui_r24_f5']) + parseInt(resultarray['oui_r1_f6']) + parseInt(resultarray['oui_r2_f6']) + parseInt(resultarray['oui_r3_f6']) + parseInt(resultarray['oui_r4_f6']) + parseInt(resultarray['oui_r5_f6']) + parseInt(resultarray['oui_r6_f6']) + parseInt(resultarray['oui_r7_f6']) + parseInt(resultarray['oui_r8_f6']) + parseInt(resultarray['oui_r9_f6']) + parseInt(resultarray['oui_r10_f6']) + parseInt(resultarray['oui_r11_f6']) + parseInt(resultarray['oui_r12_f6']) + parseInt(resultarray['oui_r13_f6']) + parseInt(resultarray['oui_r14_f6']) + parseInt(resultarray['oui_r15_f6']) + parseInt(resultarray['oui_r16_f6']) + parseInt(resultarray['oui_r17_f6']) + parseInt(resultarray['oui_r18_f6']) + parseInt(resultarray['oui_r19_f6']) + parseInt(resultarray['oui_r20_f6']) + parseInt(resultarray['oui_r21_f6']) + parseInt(resultarray['oui_r22_f6']) + parseInt(resultarray['oui_r23_f6']) + parseInt(resultarray['oui_r24_f6']) + parseInt(resultarray['od_r1_f3']) + parseInt(resultarray['od_r2_f3']) + parseInt(resultarray['od_r3_f3']) + parseInt(resultarray['od_r4_f3']) + parseInt(resultarray['od_r5_f3']) + parseInt(resultarray['od_r6_f3']) + parseInt(resultarray['od_r7_f3']) + parseInt(resultarray['od_r8_f3']) + parseInt(resultarray['od_r9_f3']) + parseInt(resultarray['od_r10_f3']) + parseInt(resultarray['od_r11_f3']) + parseInt(resultarray['od_r12_f3']) + parseInt(resultarray['od_r13_f3']) + parseInt(resultarray['od_r14_f3']) + parseInt(resultarray['od_r15_f3']) + parseInt(resultarray['od_r16_f3']) + parseInt(resultarray['od_r17_f3']) + parseInt(resultarray['od_r18_f3']) + parseInt(resultarray['od_r19_f3']) + parseInt(resultarray['od_r20_f3']) + parseInt(resultarray['od_r21_f3']) + parseInt(resultarray['od_r22_f3']) + parseInt(resultarray['od_r23_f3']) + parseInt(resultarray['od_r24_f3']) + parseInt(resultarray['od_r1_f4']) + parseInt(resultarray['od_r2_f4']) + parseInt(resultarray['od_r3_f4']) + parseInt(resultarray['od_r4_f4']) + parseInt(resultarray['od_r5_f4']) + parseInt(resultarray['od_r6_f4']) + parseInt(resultarray['od_r7_f4']) + parseInt(resultarray['od_r8_f4']) + parseInt(resultarray['od_r9_f4']) + parseInt(resultarray['od_r10_f4']) + parseInt(resultarray['od_r11_f4']) + parseInt(resultarray['od_r12_f4']) + parseInt(resultarray['od_r13_f4']) + parseInt(resultarray['od_r14_f4']) + parseInt(resultarray['od_r15_f4']) + parseInt(resultarray['od_r16_f4']) + parseInt(resultarray['od_r17_f4']) + parseInt(resultarray['od_r18_f4']) + parseInt(resultarray['od_r19_f4']) + parseInt(resultarray['od_r20_f4']) + parseInt(resultarray['od_r21_f4']) + parseInt(resultarray['od_r22_f4']) + parseInt(resultarray['od_r23_f4']) + parseInt(resultarray['od_r24_f4']) + parseInt(resultarray['od_r1_f5']) + parseInt(resultarray['od_r2_f5']) + parseInt(resultarray['od_r3_f5']) + parseInt(resultarray['od_r4_f5']) + parseInt(resultarray['od_r5_f5']) + parseInt(resultarray['od_r6_f5']) + parseInt(resultarray['od_r7_f5']) + parseInt(resultarray['od_r8_f5']) + parseInt(resultarray['od_r9_f5']) + parseInt(resultarray['od_r10_f5']) + parseInt(resultarray['od_r11_f5']) + parseInt(resultarray['od_r12_f5']) + parseInt(resultarray['od_r13_f5']) + parseInt(resultarray['od_r14_f5']) + parseInt(resultarray['od_r15_f5']) + parseInt(resultarray['od_r16_f5']) + parseInt(resultarray['od_r17_f5']) + parseInt(resultarray['od_r18_f5']) + parseInt(resultarray['od_r19_f5']) + parseInt(resultarray['od_r20_f5']) + parseInt(resultarray['od_r21_f5']) + parseInt(resultarray['od_r22_f5']) + parseInt(resultarray['od_r23_f5']) + parseInt(resultarray['od_r24_f5']) + parseInt(resultarray['od_r1_f6']) + parseInt(resultarray['od_r2_f6']) + parseInt(resultarray['od_r3_f6']) + parseInt(resultarray['od_r4_f6']) + parseInt(resultarray['od_r5_f6']) + parseInt(resultarray['od_r6_f6']) + parseInt(resultarray['od_r7_f6']) + parseInt(resultarray['od_r8_f6']) + parseInt(resultarray['od_r9_f6']) + parseInt(resultarray['od_r10_f6']) + parseInt(resultarray['od_r11_f6']) + parseInt(resultarray['od_r12_f6']) + parseInt(resultarray['od_r13_f6']) + parseInt(resultarray['od_r14_f6']) + parseInt(resultarray['od_r15_f6']) + parseInt(resultarray['od_r16_f6']) + parseInt(resultarray['od_r17_f6']) + parseInt(resultarray['od_r18_f6']) + parseInt(resultarray['od_r19_f6']) + parseInt(resultarray['od_r20_f6']) + parseInt(resultarray['od_r21_f6']) + parseInt(resultarray['od_r22_f6']) + parseInt(resultarray['od_r23_f6']) + parseInt(resultarray['od_r24_f6']);
					var Pentavalent = parseInt(resultarray['cri_r1_f7']) + parseInt(resultarray['cri_r2_f7']) + parseInt(resultarray['cri_r3_f7']) + parseInt(resultarray['cri_r4_f7']) + parseInt(resultarray['cri_r5_f7']) + parseInt(resultarray['cri_r6_f7']) + parseInt(resultarray['cri_r7_f7']) + parseInt(resultarray['cri_r8_f7']) + parseInt(resultarray['cri_r9_f7']) + parseInt(resultarray['cri_r10_f7']) + parseInt(resultarray['cri_r11_f7']) + parseInt(resultarray['cri_r12_f7']) + parseInt(resultarray['cri_r13_f7']) + parseInt(resultarray['cri_r14_f7']) + parseInt(resultarray['cri_r15_f7']) + parseInt(resultarray['cri_r16_f7']) + parseInt(resultarray['cri_r17_f7']) + parseInt(resultarray['cri_r18_f7']) + parseInt(resultarray['cri_r19_f7']) + parseInt(resultarray['cri_r20_f7']) + parseInt(resultarray['cri_r21_f7']) + parseInt(resultarray['cri_r22_f7']) + parseInt(resultarray['cri_r23_f7']) + parseInt(resultarray['cri_r24_f7']) + parseInt(resultarray['cri_r1_f8']) + parseInt(resultarray['cri_r2_f8']) + parseInt(resultarray['cri_r3_f8']) + parseInt(resultarray['cri_r4_f8']) + parseInt(resultarray['cri_r5_f8']) + parseInt(resultarray['cri_r6_f8']) + parseInt(resultarray['cri_r7_f8']) + parseInt(resultarray['cri_r8_f8']) + parseInt(resultarray['cri_r9_f8']) + parseInt(resultarray['cri_r10_f8']) + parseInt(resultarray['cri_r11_f8']) + parseInt(resultarray['cri_r12_f8']) + parseInt(resultarray['cri_r13_f8']) + parseInt(resultarray['cri_r14_f8']) + parseInt(resultarray['cri_r15_f8']) + parseInt(resultarray['cri_r16_f8']) + parseInt(resultarray['cri_r17_f8']) + parseInt(resultarray['cri_r18_f8']) + parseInt(resultarray['cri_r19_f8']) + parseInt(resultarray['cri_r20_f8']) + parseInt(resultarray['cri_r21_f8']) + parseInt(resultarray['cri_r22_f8']) + parseInt(resultarray['cri_r23_f8']) + parseInt(resultarray['cri_r24_f8']) + parseInt(resultarray['cri_r1_f9']) + parseInt(resultarray['cri_r2_f9']) + parseInt(resultarray['cri_r3_f9']) + parseInt(resultarray['cri_r4_f9']) + parseInt(resultarray['cri_r5_f9']) + parseInt(resultarray['cri_r6_f9']) + parseInt(resultarray['cri_r7_f9']) + parseInt(resultarray['cri_r8_f9']) + parseInt(resultarray['cri_r9_f9']) + parseInt(resultarray['cri_r10_f9']) + parseInt(resultarray['cri_r11_f9']) + parseInt(resultarray['cri_r12_f9']) + parseInt(resultarray['cri_r13_f9']) + parseInt(resultarray['cri_r14_f9']) + parseInt(resultarray['cri_r15_f9']) + parseInt(resultarray['cri_r16_f9']) + parseInt(resultarray['cri_r17_f9']) + parseInt(resultarray['cri_r18_f9']) + parseInt(resultarray['cri_r19_f9']) + parseInt(resultarray['cri_r20_f9']) + parseInt(resultarray['cri_r21_f9']) + parseInt(resultarray['cri_r22_f9']) + parseInt(resultarray['cri_r23_f9']) + parseInt(resultarray['cri_r24_f9']) + parseInt(resultarray['oui_r1_f7']) + parseInt(resultarray['oui_r2_f7']) + parseInt(resultarray['oui_r3_f7']) + parseInt(resultarray['oui_r4_f7']) + parseInt(resultarray['oui_r5_f7']) + parseInt(resultarray['oui_r6_f7']) + parseInt(resultarray['oui_r7_f7']) + parseInt(resultarray['oui_r8_f7']) + parseInt(resultarray['oui_r9_f7']) + parseInt(resultarray['oui_r10_f7']) + parseInt(resultarray['oui_r11_f7']) + parseInt(resultarray['oui_r12_f7']) + parseInt(resultarray['oui_r13_f7']) + parseInt(resultarray['oui_r14_f7']) + parseInt(resultarray['oui_r15_f7']) + parseInt(resultarray['oui_r16_f7']) + parseInt(resultarray['oui_r17_f7']) + parseInt(resultarray['oui_r18_f7']) + parseInt(resultarray['oui_r19_f7']) + parseInt(resultarray['oui_r20_f7']) + parseInt(resultarray['oui_r21_f7']) + parseInt(resultarray['oui_r22_f7']) + parseInt(resultarray['oui_r23_f7']) + parseInt(resultarray['oui_r24_f7']) + parseInt(resultarray['oui_r1_f8']) + parseInt(resultarray['oui_r2_f8']) + parseInt(resultarray['oui_r3_f8']) + parseInt(resultarray['oui_r4_f8']) + parseInt(resultarray['oui_r5_f8']) + parseInt(resultarray['oui_r6_f8']) + parseInt(resultarray['oui_r7_f8']) + parseInt(resultarray['oui_r8_f8']) + parseInt(resultarray['oui_r9_f8']) + parseInt(resultarray['oui_r10_f8']) + parseInt(resultarray['oui_r11_f8']) + parseInt(resultarray['oui_r12_f8']) + parseInt(resultarray['oui_r13_f8']) + parseInt(resultarray['oui_r14_f8']) + parseInt(resultarray['oui_r15_f8']) + parseInt(resultarray['oui_r16_f8']) + parseInt(resultarray['oui_r17_f8']) + parseInt(resultarray['oui_r18_f8']) + parseInt(resultarray['oui_r19_f8']) + parseInt(resultarray['oui_r20_f8']) + parseInt(resultarray['oui_r21_f8']) + parseInt(resultarray['oui_r22_f8']) + parseInt(resultarray['oui_r23_f8']) + parseInt(resultarray['oui_r24_f8']) + parseInt(resultarray['oui_r1_f9']) + parseInt(resultarray['oui_r2_f9']) + parseInt(resultarray['oui_r3_f9']) + parseInt(resultarray['oui_r4_f9']) + parseInt(resultarray['oui_r5_f9']) + parseInt(resultarray['oui_r6_f9']) + parseInt(resultarray['oui_r7_f9']) + parseInt(resultarray['oui_r8_f9']) + parseInt(resultarray['oui_r9_f9']) + parseInt(resultarray['oui_r10_f9']) + parseInt(resultarray['oui_r11_f9']) + parseInt(resultarray['oui_r12_f9']) + parseInt(resultarray['oui_r13_f9']) + parseInt(resultarray['oui_r14_f9']) + parseInt(resultarray['oui_r15_f9']) + parseInt(resultarray['oui_r16_f9']) + parseInt(resultarray['oui_r17_f9']) + parseInt(resultarray['oui_r18_f9']) + parseInt(resultarray['oui_r19_f9']) + parseInt(resultarray['oui_r20_f9']) + parseInt(resultarray['oui_r21_f9']) + parseInt(resultarray['oui_r22_f9']) + parseInt(resultarray['oui_r23_f9']) + parseInt(resultarray['oui_r24_f9']) + parseInt(resultarray['od_r1_f7']) + parseInt(resultarray['od_r2_f7']) + parseInt(resultarray['od_r3_f7']) + parseInt(resultarray['od_r4_f7']) + parseInt(resultarray['od_r5_f7']) + parseInt(resultarray['od_r6_f7']) + parseInt(resultarray['od_r7_f7']) + parseInt(resultarray['od_r8_f7']) + parseInt(resultarray['od_r9_f7']) + parseInt(resultarray['od_r10_f7']) + parseInt(resultarray['od_r11_f7']) + parseInt(resultarray['od_r12_f7']) + parseInt(resultarray['od_r13_f7']) + parseInt(resultarray['od_r14_f7']) + parseInt(resultarray['od_r15_f7']) + parseInt(resultarray['od_r16_f7']) + parseInt(resultarray['od_r17_f7']) + parseInt(resultarray['od_r18_f7']) + parseInt(resultarray['od_r19_f7']) + parseInt(resultarray['od_r20_f7']) + parseInt(resultarray['od_r21_f7']) + parseInt(resultarray['od_r22_f7']) + parseInt(resultarray['od_r23_f7']) + parseInt(resultarray['od_r24_f7']) + parseInt(resultarray['od_r1_f8']) + parseInt(resultarray['od_r2_f8']) + parseInt(resultarray['od_r3_f8']) + parseInt(resultarray['od_r4_f8']) + parseInt(resultarray['od_r5_f8']) + parseInt(resultarray['od_r6_f8']) + parseInt(resultarray['od_r7_f8']) + parseInt(resultarray['od_r8_f8']) + parseInt(resultarray['od_r9_f8']) + parseInt(resultarray['od_r10_f8']) + parseInt(resultarray['od_r11_f8']) + parseInt(resultarray['od_r12_f8']) + parseInt(resultarray['od_r13_f8']) + parseInt(resultarray['od_r14_f8']) + parseInt(resultarray['od_r15_f8']) + parseInt(resultarray['od_r16_f8']) + parseInt(resultarray['od_r17_f8']) + parseInt(resultarray['od_r18_f8']) + parseInt(resultarray['od_r19_f8']) + parseInt(resultarray['od_r20_f8']) + parseInt(resultarray['od_r21_f8']) + parseInt(resultarray['od_r22_f8']) + parseInt(resultarray['od_r23_f8']) + parseInt(resultarray['od_r24_f8']) + parseInt(resultarray['od_r1_f9']) + parseInt(resultarray['od_r2_f9']) + parseInt(resultarray['od_r3_f9']) + parseInt(resultarray['od_r4_f9']) + parseInt(resultarray['od_r5_f9']) + parseInt(resultarray['od_r6_f9']) + parseInt(resultarray['od_r7_f9']) + parseInt(resultarray['od_r8_f9']) + parseInt(resultarray['od_r9_f9']) + parseInt(resultarray['od_r10_f9']) + parseInt(resultarray['od_r11_f9']) + parseInt(resultarray['od_r12_f9']) + parseInt(resultarray['od_r13_f9']) + parseInt(resultarray['od_r14_f9']) + parseInt(resultarray['od_r15_f9']) + parseInt(resultarray['od_r16_f9']) + parseInt(resultarray['od_r17_f9']) + parseInt(resultarray['od_r18_f9']) + parseInt(resultarray['od_r19_f9']) + parseInt(resultarray['od_r20_f9']) + parseInt(resultarray['od_r21_f9']) + parseInt(resultarray['od_r22_f9']) + parseInt(resultarray['od_r23_f9']) + parseInt(resultarray['od_r24_f9']);
					var Pneumococcal = parseInt(resultarray['cri_r1_f10']) + parseInt(resultarray['cri_r2_f10']) + parseInt(resultarray['cri_r3_f10']) + parseInt(resultarray['cri_r4_f10']) + parseInt(resultarray['cri_r5_f10']) + parseInt(resultarray['cri_r6_f10']) + parseInt(resultarray['cri_r7_f10']) + parseInt(resultarray['cri_r8_f10']) + parseInt(resultarray['cri_r9_f10']) + parseInt(resultarray['cri_r10_f10']) + parseInt(resultarray['cri_r11_f10']) + parseInt(resultarray['cri_r12_f10']) + parseInt(resultarray['cri_r13_f10']) + parseInt(resultarray['cri_r14_f10']) + parseInt(resultarray['cri_r15_f10']) + parseInt(resultarray['cri_r16_f10']) + parseInt(resultarray['cri_r17_f10']) + parseInt(resultarray['cri_r18_f10']) + parseInt(resultarray['cri_r19_f10']) + parseInt(resultarray['cri_r20_f10']) + parseInt(resultarray['cri_r21_f10']) + parseInt(resultarray['cri_r22_f10']) + parseInt(resultarray['cri_r23_f10']) + parseInt(resultarray['cri_r24_f10']) + parseInt(resultarray['cri_r1_f11']) + parseInt(resultarray['cri_r2_f11']) + parseInt(resultarray['cri_r3_f11']) + parseInt(resultarray['cri_r4_f11']) + parseInt(resultarray['cri_r5_f11']) + parseInt(resultarray['cri_r6_f11']) + parseInt(resultarray['cri_r7_f11']) + parseInt(resultarray['cri_r8_f11']) + parseInt(resultarray['cri_r9_f11']) + parseInt(resultarray['cri_r10_f11']) + parseInt(resultarray['cri_r11_f11']) + parseInt(resultarray['cri_r12_f11']) + parseInt(resultarray['cri_r13_f11']) + parseInt(resultarray['cri_r14_f11']) + parseInt(resultarray['cri_r15_f11']) + parseInt(resultarray['cri_r16_f11']) + parseInt(resultarray['cri_r17_f11']) + parseInt(resultarray['cri_r18_f11']) + parseInt(resultarray['cri_r19_f11']) + parseInt(resultarray['cri_r20_f11']) + parseInt(resultarray['cri_r21_f11']) + parseInt(resultarray['cri_r22_f11']) + parseInt(resultarray['cri_r23_f11']) + parseInt(resultarray['cri_r24_f11']) + parseInt(resultarray['cri_r1_f12']) + parseInt(resultarray['cri_r2_f12']) + parseInt(resultarray['cri_r3_f12']) + parseInt(resultarray['cri_r4_f12']) + parseInt(resultarray['cri_r5_f12']) + parseInt(resultarray['cri_r6_f12']) + parseInt(resultarray['cri_r7_f12']) + parseInt(resultarray['cri_r8_f12']) + parseInt(resultarray['cri_r9_f12']) + parseInt(resultarray['cri_r10_f12']) + parseInt(resultarray['cri_r11_f12']) + parseInt(resultarray['cri_r12_f12']) + parseInt(resultarray['cri_r13_f12']) + parseInt(resultarray['cri_r14_f12']) + parseInt(resultarray['cri_r15_f12']) + parseInt(resultarray['cri_r16_f12']) + parseInt(resultarray['cri_r17_f12']) + parseInt(resultarray['cri_r18_f12']) + parseInt(resultarray['cri_r19_f12']) + parseInt(resultarray['cri_r20_f12']) + parseInt(resultarray['cri_r21_f12']) + parseInt(resultarray['cri_r22_f12']) + parseInt(resultarray['cri_r23_f12']) + parseInt(resultarray['cri_r24_f12']) + parseInt(resultarray['oui_r1_f10']) + parseInt(resultarray['oui_r2_f10']) + parseInt(resultarray['oui_r3_f10']) + parseInt(resultarray['oui_r4_f10']) + parseInt(resultarray['oui_r5_f10']) + parseInt(resultarray['oui_r6_f10']) + parseInt(resultarray['oui_r7_f10']) + parseInt(resultarray['oui_r8_f10']) + parseInt(resultarray['oui_r9_f10']) + parseInt(resultarray['oui_r10_f10']) + parseInt(resultarray['oui_r11_f10']) + parseInt(resultarray['oui_r12_f10']) + parseInt(resultarray['oui_r13_f10']) + parseInt(resultarray['oui_r14_f10']) + parseInt(resultarray['oui_r15_f10']) + parseInt(resultarray['oui_r16_f10']) + parseInt(resultarray['oui_r17_f10']) + parseInt(resultarray['oui_r18_f10']) + parseInt(resultarray['oui_r19_f10']) + parseInt(resultarray['oui_r20_f10']) + parseInt(resultarray['oui_r21_f10']) + parseInt(resultarray['oui_r22_f10']) + parseInt(resultarray['oui_r23_f10']) + parseInt(resultarray['oui_r24_f10']) + parseInt(resultarray['oui_r1_f11']) + parseInt(resultarray['oui_r2_f11']) + parseInt(resultarray['oui_r3_f11']) + parseInt(resultarray['oui_r4_f11']) + parseInt(resultarray['oui_r5_f11']) + parseInt(resultarray['oui_r6_f11']) + parseInt(resultarray['oui_r7_f11']) + parseInt(resultarray['oui_r8_f11']) + parseInt(resultarray['oui_r9_f11']) + parseInt(resultarray['oui_r10_f11']) + parseInt(resultarray['oui_r11_f11']) + parseInt(resultarray['oui_r12_f11']) + parseInt(resultarray['oui_r13_f11']) + parseInt(resultarray['oui_r14_f11']) + parseInt(resultarray['oui_r15_f11']) + parseInt(resultarray['oui_r16_f11']) + parseInt(resultarray['oui_r17_f11']) + parseInt(resultarray['oui_r18_f11']) + parseInt(resultarray['oui_r19_f11']) + parseInt(resultarray['oui_r20_f11']) + parseInt(resultarray['oui_r21_f11']) + parseInt(resultarray['oui_r22_f11']) + parseInt(resultarray['oui_r23_f11']) + parseInt(resultarray['oui_r24_f11']) + parseInt(resultarray['oui_r1_f12']) + parseInt(resultarray['oui_r2_f12']) + parseInt(resultarray['oui_r3_f12']) + parseInt(resultarray['oui_r4_f12']) + parseInt(resultarray['oui_r5_f12']) + parseInt(resultarray['oui_r6_f12']) + parseInt(resultarray['oui_r7_f12']) + parseInt(resultarray['oui_r8_f12']) + parseInt(resultarray['oui_r9_f12']) + parseInt(resultarray['oui_r10_f12']) + parseInt(resultarray['oui_r11_f12']) + parseInt(resultarray['oui_r12_f12']) + parseInt(resultarray['oui_r13_f12']) + parseInt(resultarray['oui_r14_f12']) + parseInt(resultarray['oui_r15_f12']) + parseInt(resultarray['oui_r16_f12']) + parseInt(resultarray['oui_r17_f12']) + parseInt(resultarray['oui_r18_f12']) + parseInt(resultarray['oui_r19_f12']) + parseInt(resultarray['oui_r20_f12']) + parseInt(resultarray['oui_r21_f12']) + parseInt(resultarray['oui_r22_f12']) + parseInt(resultarray['oui_r23_f12']) + parseInt(resultarray['oui_r24_f12']) + parseInt(resultarray['od_r1_f10']) + parseInt(resultarray['od_r2_f10']) + parseInt(resultarray['od_r3_f10']) + parseInt(resultarray['od_r4_f10']) + parseInt(resultarray['od_r5_f10']) + parseInt(resultarray['od_r6_f10']) + parseInt(resultarray['od_r7_f10']) + parseInt(resultarray['od_r8_f10']) + parseInt(resultarray['od_r9_f10']) + parseInt(resultarray['od_r10_f10']) + parseInt(resultarray['od_r11_f10']) + parseInt(resultarray['od_r12_f10']) + parseInt(resultarray['od_r13_f10']) + parseInt(resultarray['od_r14_f10']) + parseInt(resultarray['od_r15_f10']) + parseInt(resultarray['od_r16_f10']) + parseInt(resultarray['od_r17_f10']) + parseInt(resultarray['od_r18_f10']) + parseInt(resultarray['od_r19_f10']) + parseInt(resultarray['od_r20_f10']) + parseInt(resultarray['od_r21_f10']) + parseInt(resultarray['od_r22_f10']) + parseInt(resultarray['od_r23_f10']) + parseInt(resultarray['od_r24_f10']) + parseInt(resultarray['od_r1_f11']) + parseInt(resultarray['od_r2_f11']) + parseInt(resultarray['od_r3_f11']) + parseInt(resultarray['od_r4_f11']) + parseInt(resultarray['od_r5_f11']) + parseInt(resultarray['od_r6_f11']) + parseInt(resultarray['od_r7_f11']) + parseInt(resultarray['od_r8_f11']) + parseInt(resultarray['od_r9_f11']) + parseInt(resultarray['od_r10_f11']) + parseInt(resultarray['od_r11_f11']) + parseInt(resultarray['od_r12_f11']) + parseInt(resultarray['od_r13_f11']) + parseInt(resultarray['od_r14_f11']) + parseInt(resultarray['od_r15_f11']) + parseInt(resultarray['od_r16_f11']) + parseInt(resultarray['od_r17_f11']) + parseInt(resultarray['od_r18_f11']) + parseInt(resultarray['od_r19_f11']) + parseInt(resultarray['od_r20_f11']) + parseInt(resultarray['od_r21_f11']) + parseInt(resultarray['od_r22_f11']) + parseInt(resultarray['od_r23_f11']) + parseInt(resultarray['od_r24_f11']) + parseInt(resultarray['od_r1_f12']) + parseInt(resultarray['od_r2_f12']) + parseInt(resultarray['od_r3_f12']) + parseInt(resultarray['od_r4_f12']) + parseInt(resultarray['od_r5_f12']) + parseInt(resultarray['od_r6_f12']) + parseInt(resultarray['od_r7_f12']) + parseInt(resultarray['od_r8_f12']) + parseInt(resultarray['od_r9_f12']) + parseInt(resultarray['od_r10_f12']) + parseInt(resultarray['od_r11_f12']) + parseInt(resultarray['od_r12_f12']) + parseInt(resultarray['od_r13_f12']) + parseInt(resultarray['od_r14_f12']) + parseInt(resultarray['od_r15_f12']) + parseInt(resultarray['od_r16_f12']) + parseInt(resultarray['od_r17_f12']) + parseInt(resultarray['od_r18_f12']) + parseInt(resultarray['od_r19_f12']) + parseInt(resultarray['od_r20_f12']) + parseInt(resultarray['od_r21_f12']) + parseInt(resultarray['od_r22_f12']) + parseInt(resultarray['od_r23_f12']) + parseInt(resultarray['od_r24_f12']);
					var Measles = parseInt(resultarray['cri_r1_f16']) + parseInt(resultarray['cri_r2_f16']) + parseInt(resultarray['cri_r3_f16']) + parseInt(resultarray['cri_r4_f16']) + parseInt(resultarray['cri_r5_f16']) + parseInt(resultarray['cri_r6_f16']) + parseInt(resultarray['cri_r7_f16']) + parseInt(resultarray['cri_r8_f16']) + parseInt(resultarray['cri_r9_f16']) + parseInt(resultarray['cri_r10_f16']) + parseInt(resultarray['cri_r11_f16']) + parseInt(resultarray['cri_r12_f16']) + parseInt(resultarray['cri_r13_f16']) + parseInt(resultarray['cri_r14_f16']) + parseInt(resultarray['cri_r15_f16']) + parseInt(resultarray['cri_r16_f16']) + parseInt(resultarray['cri_r17_f16']) + parseInt(resultarray['cri_r18_f16']) + parseInt(resultarray['cri_r19_f16']) + parseInt(resultarray['cri_r20_f16']) + parseInt(resultarray['cri_r21_f16']) + parseInt(resultarray['cri_r22_f16']) + parseInt(resultarray['cri_r23_f16']) + parseInt(resultarray['cri_r24_f16']) + parseInt(resultarray['cri_r1_f18']) + parseInt(resultarray['cri_r2_f18']) + parseInt(resultarray['cri_r3_f18']) + parseInt(resultarray['cri_r4_f18']) + parseInt(resultarray['cri_r5_f18']) + parseInt(resultarray['cri_r6_f18']) + parseInt(resultarray['cri_r7_f18']) + parseInt(resultarray['cri_r8_f18']) + parseInt(resultarray['cri_r9_f18']) + parseInt(resultarray['cri_r10_f18']) + parseInt(resultarray['cri_r11_f18']) + parseInt(resultarray['cri_r12_f18']) + parseInt(resultarray['cri_r13_f18']) + parseInt(resultarray['cri_r14_f18']) + parseInt(resultarray['cri_r15_f18']) + parseInt(resultarray['cri_r16_f18']) + parseInt(resultarray['cri_r17_f18']) + parseInt(resultarray['cri_r18_f18']) + parseInt(resultarray['cri_r19_f18']) + parseInt(resultarray['cri_r20_f18']) + parseInt(resultarray['cri_r21_f18']) + parseInt(resultarray['cri_r22_f18']) + parseInt(resultarray['cri_r23_f18']) + parseInt(resultarray['cri_r24_f18']) + parseInt(resultarray['oui_r1_f16']) + parseInt(resultarray['oui_r2_f16']) + parseInt(resultarray['oui_r3_f16']) + parseInt(resultarray['oui_r4_f16']) + parseInt(resultarray['oui_r5_f16']) + parseInt(resultarray['oui_r6_f16']) + parseInt(resultarray['oui_r7_f16']) + parseInt(resultarray['oui_r8_f16']) + parseInt(resultarray['oui_r9_f16']) + parseInt(resultarray['oui_r10_f16']) + parseInt(resultarray['oui_r11_f16']) + parseInt(resultarray['oui_r12_f16']) + parseInt(resultarray['oui_r13_f16']) + parseInt(resultarray['oui_r14_f16']) + parseInt(resultarray['oui_r15_f16']) + parseInt(resultarray['oui_r16_f16']) + parseInt(resultarray['oui_r17_f16']) + parseInt(resultarray['oui_r18_f16']) + parseInt(resultarray['oui_r19_f16']) + parseInt(resultarray['oui_r20_f16']) + parseInt(resultarray['oui_r21_f16']) + parseInt(resultarray['oui_r22_f16']) + parseInt(resultarray['oui_r23_f16']) + parseInt(resultarray['oui_r24_f16']) + parseInt(resultarray['oui_r1_f18']) + parseInt(resultarray['oui_r2_f18']) + parseInt(resultarray['oui_r3_f18']) + parseInt(resultarray['oui_r4_f18']) + parseInt(resultarray['oui_r5_f18']) + parseInt(resultarray['oui_r6_f18']) + parseInt(resultarray['oui_r7_f18']) + parseInt(resultarray['oui_r8_f18']) + parseInt(resultarray['oui_r9_f18']) + parseInt(resultarray['oui_r10_f18']) + parseInt(resultarray['oui_r11_f18']) + parseInt(resultarray['oui_r12_f18']) + parseInt(resultarray['oui_r13_f18']) + parseInt(resultarray['oui_r14_f18']) + parseInt(resultarray['oui_r15_f18']) + parseInt(resultarray['oui_r16_f18']) + parseInt(resultarray['oui_r17_f18']) + parseInt(resultarray['oui_r18_f18']) + parseInt(resultarray['oui_r19_f18']) + parseInt(resultarray['oui_r20_f18']) + parseInt(resultarray['oui_r21_f18']) + parseInt(resultarray['oui_r22_f18']) + parseInt(resultarray['oui_r23_f18']) + parseInt(resultarray['oui_r24_f18']) + parseInt(resultarray['od_r1_f16']) + parseInt(resultarray['od_r2_f16']) + parseInt(resultarray['od_r3_f16']) + parseInt(resultarray['od_r4_f16']) + parseInt(resultarray['od_r5_f16']) + parseInt(resultarray['od_r6_f16']) + parseInt(resultarray['od_r7_f16']) + parseInt(resultarray['od_r8_f16']) + parseInt(resultarray['od_r9_f16']) + parseInt(resultarray['od_r10_f16']) + parseInt(resultarray['od_r11_f16']) + parseInt(resultarray['od_r12_f16']) + parseInt(resultarray['od_r13_f16']) + parseInt(resultarray['od_r14_f16']) + parseInt(resultarray['od_r15_f16']) + parseInt(resultarray['od_r16_f16']) + parseInt(resultarray['od_r17_f16']) + parseInt(resultarray['od_r18_f16']) + parseInt(resultarray['od_r19_f16']) + parseInt(resultarray['od_r20_f16']) + parseInt(resultarray['od_r21_f16']) + parseInt(resultarray['od_r22_f16']) + parseInt(resultarray['od_r23_f16']) + parseInt(resultarray['od_r24_f16']) + parseInt(resultarray['od_r1_f18']) + parseInt(resultarray['od_r2_f18']) + parseInt(resultarray['od_r3_f18']) + parseInt(resultarray['od_r4_f18']) + parseInt(resultarray['od_r5_f18']) + parseInt(resultarray['od_r6_f18']) + parseInt(resultarray['od_r7_f18']) + parseInt(resultarray['od_r8_f18']) + parseInt(resultarray['od_r9_f18']) + parseInt(resultarray['od_r10_f18']) + parseInt(resultarray['od_r11_f18']) + parseInt(resultarray['od_r12_f18']) + parseInt(resultarray['od_r13_f18']) + parseInt(resultarray['od_r14_f18']) + parseInt(resultarray['od_r15_f18']) + parseInt(resultarray['od_r16_f18']) + parseInt(resultarray['od_r17_f18']) + parseInt(resultarray['od_r18_f18']) + parseInt(resultarray['od_r19_f18']) + parseInt(resultarray['od_r20_f18']) + parseInt(resultarray['od_r21_f18']) + parseInt(resultarray['od_r22_f18']) + parseInt(resultarray['od_r23_f18']) + parseInt(resultarray['od_r24_f18']);
					var IPV = parseInt(resultarray['cri_r1_f13']) + parseInt(resultarray['cri_r2_f13']) + parseInt(resultarray['cri_r3_f13']) + parseInt(resultarray['cri_r4_f13']) + parseInt(resultarray['cri_r5_f13']) + parseInt(resultarray['cri_r6_f13']) + parseInt(resultarray['cri_r7_f13']) + parseInt(resultarray['cri_r8_f13']) + parseInt(resultarray['cri_r9_f13']) + parseInt(resultarray['cri_r10_f13']) + parseInt(resultarray['cri_r11_f13']) + parseInt(resultarray['cri_r12_f13']) + parseInt(resultarray['cri_r13_f13']) + parseInt(resultarray['cri_r14_f13']) + parseInt(resultarray['cri_r15_f13']) + parseInt(resultarray['cri_r16_f13']) + parseInt(resultarray['cri_r17_f13']) + parseInt(resultarray['cri_r18_f13']) + parseInt(resultarray['cri_r19_f13']) + parseInt(resultarray['cri_r20_f13']) + parseInt(resultarray['cri_r21_f13']) + parseInt(resultarray['cri_r22_f13']) + parseInt(resultarray['cri_r23_f13']) + parseInt(resultarray['cri_r24_f13']) + parseInt(resultarray['oui_r1_f13']) + parseInt(resultarray['oui_r2_f13']) + parseInt(resultarray['oui_r3_f13']) + parseInt(resultarray['oui_r4_f13']) + parseInt(resultarray['oui_r5_f13']) + parseInt(resultarray['oui_r6_f13']) + parseInt(resultarray['oui_r7_f13']) + parseInt(resultarray['oui_r8_f13']) + parseInt(resultarray['oui_r9_f13']) + parseInt(resultarray['oui_r10_f13']) + parseInt(resultarray['oui_r11_f13']) + parseInt(resultarray['oui_r12_f13']) + parseInt(resultarray['oui_r13_f13']) + parseInt(resultarray['oui_r14_f13']) + parseInt(resultarray['oui_r15_f13']) + parseInt(resultarray['oui_r16_f13']) + parseInt(resultarray['oui_r17_f13']) + parseInt(resultarray['oui_r18_f13']) + parseInt(resultarray['oui_r19_f13']) + parseInt(resultarray['oui_r20_f13']) + parseInt(resultarray['oui_r21_f13']) + parseInt(resultarray['oui_r22_f13']) + parseInt(resultarray['oui_r23_f13']) + parseInt(resultarray['oui_r24_f13']) + parseInt(resultarray['od_r1_f13']) + parseInt(resultarray['od_r2_f13']) + parseInt(resultarray['od_r3_f13']) + parseInt(resultarray['od_r4_f13']) + parseInt(resultarray['od_r5_f13']) + parseInt(resultarray['od_r6_f13']) + parseInt(resultarray['od_r7_f13']) + parseInt(resultarray['od_r8_f13']) + parseInt(resultarray['od_r9_f13']) + parseInt(resultarray['od_r10_f13']) + parseInt(resultarray['od_r11_f13']) + parseInt(resultarray['od_r12_f13']) + parseInt(resultarray['od_r13_f13']) + parseInt(resultarray['od_r14_f13']) + parseInt(resultarray['od_r15_f13']) + parseInt(resultarray['od_r16_f13']) + parseInt(resultarray['od_r17_f13']) + parseInt(resultarray['od_r18_f13']) + parseInt(resultarray['od_r19_f13']) + parseInt(resultarray['od_r20_f13']) + parseInt(resultarray['od_r21_f13']) + parseInt(resultarray['od_r22_f13']) + parseInt(resultarray['od_r23_f13']) + parseInt(resultarray['od_r24_f13']);
					var TT1 = parseInt(resultarray['ttri_r1_f1']) + parseInt(resultarray['ttri_r2_f1']) + parseInt(resultarray['ttri_r3_f1']) + parseInt(resultarray['ttri_r4_f1']) + parseInt(resultarray['ttri_r5_f1']) + parseInt(resultarray['ttri_r6_f1']) + parseInt(resultarray['ttri_r7_f1']) + parseInt(resultarray['ttri_r8_f1']) + parseInt(resultarray['ttoui_r1_f1']) + parseInt(resultarray['ttoui_r2_f1']) + parseInt(resultarray['ttoui_r3_f1']) + parseInt(resultarray['ttoui_r4_f1']) + parseInt(resultarray['ttoui_r5_f1']) + parseInt(resultarray['ttoui_r6_f1']) + parseInt(resultarray['ttoui_r7_f1']) + parseInt(resultarray['ttoui_r8_f1']) + parseInt(resultarray['ttod_r1_f1']) + parseInt(resultarray['ttod_r2_f1']) + parseInt(resultarray['ttod_r3_f1']) + parseInt(resultarray['ttod_r4_f1']) + parseInt(resultarray['ttod_r5_f1']) + parseInt(resultarray['ttod_r6_f1']) + parseInt(resultarray['ttod_r7_f1']) + parseInt(resultarray['ttod_r8_f1']);
					var TT2 = parseInt(resultarray['ttri_r1_f2']) + parseInt(resultarray['ttri_r2_f2']) + parseInt(resultarray['ttri_r3_f2']) + parseInt(resultarray['ttri_r4_f2']) + parseInt(resultarray['ttri_r5_f2']) + parseInt(resultarray['ttri_r6_f2']) + parseInt(resultarray['ttri_r7_f2']) + parseInt(resultarray['ttri_r8_f2']) + parseInt(resultarray['ttoui_r1_f2']) + parseInt(resultarray['ttoui_r2_f2']) + parseInt(resultarray['ttoui_r3_f2']) + parseInt(resultarray['ttoui_r4_f2']) + parseInt(resultarray['ttoui_r5_f2']) + parseInt(resultarray['ttoui_r6_f2']) + parseInt(resultarray['ttoui_r7_f2']) + parseInt(resultarray['ttoui_r8_f2']) + parseInt(resultarray['ttod_r1_f2']) + parseInt(resultarray['ttod_r2_f2']) + parseInt(resultarray['ttod_r3_f2']) + parseInt(resultarray['ttod_r4_f2']) + parseInt(resultarray['ttod_r5_f2']) + parseInt(resultarray['ttod_r6_f2']) + parseInt(resultarray['ttod_r7_f2']) + parseInt(resultarray['ttod_r8_f2']);
					var TT3 = parseInt(resultarray['ttri_r1_f3']) + parseInt(resultarray['ttri_r2_f3']) + parseInt(resultarray['ttri_r3_f3']) + parseInt(resultarray['ttri_r4_f3']) + parseInt(resultarray['ttri_r5_f3']) + parseInt(resultarray['ttri_r6_f3']) + parseInt(resultarray['ttri_r7_f3']) + parseInt(resultarray['ttri_r8_f3']) + parseInt(resultarray['ttoui_r1_f3']) + parseInt(resultarray['ttoui_r2_f3']) + parseInt(resultarray['ttoui_r3_f3']) + parseInt(resultarray['ttoui_r4_f3']) + parseInt(resultarray['ttoui_r5_f3']) + parseInt(resultarray['ttoui_r6_f3']) + parseInt(resultarray['ttoui_r7_f3']) + parseInt(resultarray['ttoui_r8_f3']) + parseInt(resultarray['ttod_r1_f3']) + parseInt(resultarray['ttod_r2_f3']) + parseInt(resultarray['ttod_r3_f3']) + parseInt(resultarray['ttod_r4_f3']) + parseInt(resultarray['ttod_r5_f3']) + parseInt(resultarray['ttod_r6_f3']) + parseInt(resultarray['ttod_r7_f3']) + parseInt(resultarray['ttod_r8_f3']);
					var TT4 = parseInt(resultarray['ttri_r1_f4']) + parseInt(resultarray['ttri_r2_f4']) + parseInt(resultarray['ttri_r3_f4']) + parseInt(resultarray['ttri_r4_f4']) + parseInt(resultarray['ttri_r5_f4']) + parseInt(resultarray['ttri_r6_f4']) + parseInt(resultarray['ttri_r7_f4']) + parseInt(resultarray['ttri_r8_f4']) + parseInt(resultarray['ttoui_r1_f4']) + parseInt(resultarray['ttoui_r2_f4']) + parseInt(resultarray['ttoui_r3_f4']) + parseInt(resultarray['ttoui_r4_f4']) + parseInt(resultarray['ttoui_r5_f4']) + parseInt(resultarray['ttoui_r6_f4']) + parseInt(resultarray['ttoui_r7_f4']) + parseInt(resultarray['ttoui_r8_f4']) + parseInt(resultarray['ttod_r1_f4']) + parseInt(resultarray['ttod_r2_f4']) + parseInt(resultarray['ttod_r3_f4']) + parseInt(resultarray['ttod_r4_f4']) + parseInt(resultarray['ttod_r5_f4']) + parseInt(resultarray['ttod_r6_f4']) + parseInt(resultarray['ttod_r7_f4']) + parseInt(resultarray['ttod_r8_f4']);
					var TT5 = parseInt(resultarray['ttri_r1_f5']) + parseInt(resultarray['ttri_r2_f5']) + parseInt(resultarray['ttri_r3_f5']) + parseInt(resultarray['ttri_r4_f5']) + parseInt(resultarray['ttri_r5_f5']) + parseInt(resultarray['ttri_r6_f5']) + parseInt(resultarray['ttri_r7_f5']) + parseInt(resultarray['ttri_r8_f5']) + parseInt(resultarray['ttoui_r1_f5']) + parseInt(resultarray['ttoui_r2_f5']) + parseInt(resultarray['ttoui_r3_f5']) + parseInt(resultarray['ttoui_r4_f5']) + parseInt(resultarray['ttoui_r5_f5']) + parseInt(resultarray['ttoui_r6_f5']) + parseInt(resultarray['ttoui_r7_f5']) + parseInt(resultarray['ttoui_r8_f5']) + parseInt(resultarray['ttod_r1_f5']) + parseInt(resultarray['ttod_r2_f5']) + parseInt(resultarray['ttod_r3_f5']) + parseInt(resultarray['ttod_r4_f5']) + parseInt(resultarray['ttod_r5_f5']) + parseInt(resultarray['ttod_r6_f5']) + parseInt(resultarray['ttod_r7_f5']) + parseInt(resultarray['ttod_r8_f5']);
					var TT = TT1 + TT2 + TT3 + TT4 + TT5;
					var rota = parseInt(resultarray['cri_r1_f14']) + parseInt(resultarray['cri_r2_f14']) + parseInt(resultarray['cri_r3_f14']) + parseInt(resultarray['cri_r4_f14']) + parseInt(resultarray['cri_r5_f14']) + parseInt(resultarray['cri_r6_f14']) + parseInt(resultarray['cri_r7_f14']) + parseInt(resultarray['cri_r8_f14']) + parseInt(resultarray['cri_r9_f14']) + parseInt(resultarray['cri_r10_f14']) + parseInt(resultarray['cri_r11_f14']) + parseInt(resultarray['cri_r12_f14']) + parseInt(resultarray['cri_r13_f14']) + parseInt(resultarray['cri_r14_f14']) + parseInt(resultarray['cri_r15_f14']) + parseInt(resultarray['cri_r16_f14']) + parseInt(resultarray['cri_r17_f14']) + parseInt(resultarray['cri_r18_f14']) + parseInt(resultarray['cri_r19_f14']) + parseInt(resultarray['cri_r20_f14']) + parseInt(resultarray['cri_r21_f14']) + parseInt(resultarray['cri_r22_f14']) + parseInt(resultarray['cri_r23_f14']) + parseInt(resultarray['cri_r24_f14']) + parseInt(resultarray['cri_r1_f15']) + parseInt(resultarray['cri_r2_f15']) + parseInt(resultarray['cri_r3_f15']) + parseInt(resultarray['cri_r4_f15']) + parseInt(resultarray['cri_r5_f15']) + parseInt(resultarray['cri_r6_f15']) + parseInt(resultarray['cri_r7_f15']) + parseInt(resultarray['cri_r8_f15']) + parseInt(resultarray['cri_r9_f15']) + parseInt(resultarray['cri_r10_f15']) + parseInt(resultarray['cri_r11_f15']) + parseInt(resultarray['cri_r12_f15']) + parseInt(resultarray['cri_r13_f15']) + parseInt(resultarray['cri_r14_f15']) + parseInt(resultarray['cri_r15_f15']) + parseInt(resultarray['cri_r16_f15']) + parseInt(resultarray['cri_r17_f15']) + parseInt(resultarray['cri_r18_f15']) + parseInt(resultarray['cri_r19_f15']) + parseInt(resultarray['cri_r20_f15']) + parseInt(resultarray['cri_r21_f15']) + parseInt(resultarray['cri_r22_f15']) + parseInt(resultarray['cri_r23_f15']) + parseInt(resultarray['cri_r24_f15']) + parseInt(resultarray['oui_r1_f14']) + parseInt(resultarray['oui_r2_f14']) + parseInt(resultarray['oui_r3_f14']) + parseInt(resultarray['oui_r4_f14']) + parseInt(resultarray['oui_r5_f14']) + parseInt(resultarray['oui_r6_f14']) + parseInt(resultarray['oui_r7_f14']) + parseInt(resultarray['oui_r8_f14']) + parseInt(resultarray['oui_r9_f14']) + parseInt(resultarray['oui_r10_f14']) + parseInt(resultarray['oui_r11_f14']) + parseInt(resultarray['oui_r12_f14']) + parseInt(resultarray['oui_r13_f14']) + parseInt(resultarray['oui_r14_f14']) + parseInt(resultarray['oui_r15_f14']) + parseInt(resultarray['oui_r16_f14']) + parseInt(resultarray['oui_r17_f14']) + parseInt(resultarray['oui_r18_f14']) + parseInt(resultarray['oui_r19_f14']) + parseInt(resultarray['oui_r20_f14']) + parseInt(resultarray['oui_r21_f14']) + parseInt(resultarray['oui_r22_f14']) + parseInt(resultarray['oui_r23_f14']) + parseInt(resultarray['oui_r24_f14']) + parseInt(resultarray['oui_r1_f15']) + parseInt(resultarray['oui_r2_f15']) + parseInt(resultarray['oui_r3_f15']) + parseInt(resultarray['oui_r4_f15']) + parseInt(resultarray['oui_r5_f15']) + parseInt(resultarray['oui_r6_f15']) + parseInt(resultarray['oui_r7_f15']) + parseInt(resultarray['oui_r8_f15']) + parseInt(resultarray['oui_r9_f15']) + parseInt(resultarray['oui_r10_f15']) + parseInt(resultarray['oui_r11_f15']) + parseInt(resultarray['oui_r12_f15']) + parseInt(resultarray['oui_r13_f15']) + parseInt(resultarray['oui_r14_f15']) + parseInt(resultarray['oui_r15_f15']) + parseInt(resultarray['oui_r16_f15']) + parseInt(resultarray['oui_r17_f15']) + parseInt(resultarray['oui_r18_f15']) + parseInt(resultarray['oui_r19_f15']) + parseInt(resultarray['oui_r20_f15']) + parseInt(resultarray['oui_r21_f15']) + parseInt(resultarray['oui_r22_f15']) + parseInt(resultarray['oui_r23_f15']) + parseInt(resultarray['oui_r24_f15']) + parseInt(resultarray['od_r1_f14']) + parseInt(resultarray['od_r2_f14']) + parseInt(resultarray['od_r3_f14']) + parseInt(resultarray['od_r4_f14']) + parseInt(resultarray['od_r5_f14']) + parseInt(resultarray['od_r6_f14']) + parseInt(resultarray['od_r7_f14']) + parseInt(resultarray['od_r8_f14']) + parseInt(resultarray['od_r9_f14']) + parseInt(resultarray['od_r10_f14']) + parseInt(resultarray['od_r11_f14']) + parseInt(resultarray['od_r12_f14']) + parseInt(resultarray['od_r13_f14']) + parseInt(resultarray['od_r14_f14']) + parseInt(resultarray['od_r15_f14']) + parseInt(resultarray['od_r16_f14']) + parseInt(resultarray['od_r17_f14']) + parseInt(resultarray['od_r18_f14']) + parseInt(resultarray['od_r19_f14']) + parseInt(resultarray['od_r20_f14']) + parseInt(resultarray['od_r21_f14']) + parseInt(resultarray['od_r22_f14']) + parseInt(resultarray['od_r23_f14']) + parseInt(resultarray['od_r24_f14']) + parseInt(resultarray['od_r1_f15']) + parseInt(resultarray['od_r2_f15']) + parseInt(resultarray['od_r3_f15']) + parseInt(resultarray['od_r4_f15']) + parseInt(resultarray['od_r5_f15']) + parseInt(resultarray['od_r6_f15']) + parseInt(resultarray['od_r7_f15']) + parseInt(resultarray['od_r8_f15']) + parseInt(resultarray['od_r9_f15']) + parseInt(resultarray['od_r10_f15']) + parseInt(resultarray['od_r11_f15']) + parseInt(resultarray['od_r12_f15']) + parseInt(resultarray['od_r13_f15']) + parseInt(resultarray['od_r14_f15']) + parseInt(resultarray['od_r15_f15']) + parseInt(resultarray['od_r16_f15']) + parseInt(resultarray['od_r17_f15']) + parseInt(resultarray['od_r18_f15']) + parseInt(resultarray['od_r19_f15']) + parseInt(resultarray['od_r20_f15']) + parseInt(resultarray['od_r21_f15']) + parseInt(resultarray['od_r22_f15']) + parseInt(resultarray['od_r23_f15']) + parseInt(resultarray['od_r24_f15']);

					if(isNaN(BCG)){ $("#"+"cr_r1_f3").val(0);}
					else{ $("#"+"cr_r1_f3").val(BCG);}
					
					if(isNaN(bOPV)){ $("#"+"cr_r3_f3").val(0); }
					else{ $("#"+"cr_r3_f3").val(bOPV); }
					
					if(isNaN(Pentavalent)){ $("#"+"cr_r4_f3").val(0); }
					else{ $("#"+"cr_r4_f3").val(Pentavalent); }
					
					if(isNaN(Pneumococcal)){ $("#"+"cr_r5_f3").val(0); }
					else{ $("#"+"cr_r5_f3").val(Pneumococcal); }
					
					if(isNaN(Measles)){ $("#"+"cr_r6_f3").val(0);}
					else{ $("#"+"cr_r6_f3").val(Measles); }
					
					if(isNaN(IPV)){ $("#"+"cr_r11_f3").val(0); }
					else{ $("#"+"cr_r11_f3").val(IPV); }
					
					if(isNaN(TT)){ $("#"+"cr_r9_f3").val(0); }
					else{ $("#"+"cr_r9_f3").val(TT); }
					
					if(isNaN(rota)){ $("#"+"cr_r18_f3").val(0); }
					else{ $("#"+"cr_r18_f3").val(rota); }
				}
			});
		}
	} */
	/* Function to get selected facility incharge */
	function getIncharge(){
		var facode = $('#facode').val();
		if(facode!=0){
			$.ajax({
				type: "POST",
				data: {facode:facode},
				url: "<?php echo base_url(); ?>Ajax_calls/getIncharge",
				success: function(result){
					var resultarray = JSON.parse(result);
					if(resultarray== null){
						$("#incharge").val('');
					}
					else{
						$("#incharge").val(resultarray['incharge']);
					}
				}
			});
		}			
	}
	$(document).on('keydown', function(e){
		if(e.ctrlKey && e.which === 83){ // Check for the Ctrl key being pressed, and if the key = [S] (83)
			$("#save").click();
			e.preventDefault();
			return false;
		}
	});
//code by moon start here
	$(document).on('change','#facode,#month', function (){
		
		var facode = $("#facode").val();
		var month = $("#month").val();
		var year = $("#year").val(); 
		var table = 'form_b_cr';//old table
		var edit = 0;
		var edit=$("#edit").val();
        if(edit=="edit")
		{
				edit='1';
				$("#prepare_by").attr('disabled','disabled');
				$("#incharge").attr('disabled','disabled');
		}		
		else
				edit=0;
		if(facode>0 && month>0 && month<13 && year>2014){
			if(year>2018){
				table = 'epi_consumption_master';//new table
			}
			$.ajax({
				type: 'POST',
				data: "facode="+facode+"&year="+year+"&month="+month+"&edit="+edit+"&table="+table,
				url: "<?php echo base_url(); ?>Ajax_calls/validateExistRecord",
				success: function(result){
					var fmonth = year+"-"+month;
					var result = result.trim();
					if(result == 'Yes'){
						if (confirm("Report Already Exists! Do you want to edit it?")==true) {
							window.location.href = "<?php echo base_url(); ?>consumption/edit/"+fmonth+"/"+facode;
						} else {
							window.location.reload();
						} 
					}else if(result == 1){
						if (confirm("Report Freezed! You can not add/edit record for selected facility, month and year!")==true) {
							//move user to list
							window.location.href = "<?php echo base_url(); ?>consumption";
						} else {
							window.location.reload();
						} 
					}else{
						//validation about basic fields selected or not.------work remaining---- may be skipped as facode,fmonth checked above
						
						//check if table already shown or not
						var eraseAll = false;
						if($(".consumptionitems").hasClass("default")){
							eraseAll = true;
						}else{
							//table already shown confirm from user to refresh.
							eraseAll = confirm("Do you want to reset all items according to new Health Facility and purpose selection?\n It will erase your data.");
						}
						//Allow items data entry by showing items panel
						if(eraseAll){
							//show loading in table...----- work remaining
							$.ajax({
								type: "post",
								data: {activity:1,fmonth:fmonth,facode:facode,edit:edit},//1 for routine
								url: "<?php echo base_url("consumptionitems"); ?>",
								success: function(result){
									try {
										$(".consumptionitems").html(result);
										$(".consumptionitems").removeClass("default");
									} catch(error) {
										alert("Some Error in data fetching!!");
									}
								}
							});
						}else{
							//set health facility dropdown to previously selected state -------- work remaining
							//$(".consumptionitems").addClass("default");
						}						
					}
				}
			});
			getIncharge();
			//here set cildren vaccinated against each product from vaccination if needed---------work remaining
			//set_children_vacc();
		}
	});
	//when edit then triggger it
	var edit=$('#edit').val();
	if(edit=="edit")
	$('#facode').trigger('change');
	function filluseddoses(currrowobj){
		//fill used in doses
		var usedval = parseInt($(currrowobj).find(".usedinv").val()) || 0;
		var dosesinvial = parseInt($(currrowobj).find(".doses").text()) || 1;
		var indoses = usedval*dosesinvial;
		$(currrowobj).find(".usedind").val(indoses);
	}
	function fillunuseddoses(currrowobj){
		//fill unused in doses
		var unusedval = parseInt($(currrowobj).find(".unusedinv").val()) || 0;
		var dosesinvial = parseInt($(currrowobj).find(".doses").text()) || 1;
		var indoses = unusedval*dosesinvial;
		$(currrowobj).find(".unusedind").val(indoses);
	}
	function fillusedvials(currrowobj){
		//fill used in vials
		var useddoses = parseInt($(currrowobj).find(".usedind").val()) || 0;
		var dosesinvial = parseInt($(currrowobj).find(".doses").text()) || 1;
		var invials = (useddoses>0)?(useddoses/dosesinvial):0;
		$(currrowobj).find(".usedinv").val(invials);
	}
	function fillunusedvials(currrowobj){
		//fill unused in vials
		var unuseddoses = parseInt($(currrowobj).find(".unusedind").val()) || 0;
		var dosesinvial = parseInt($(currrowobj).find(".doses").text()) || 1;
		var invials = (unuseddoses>0)?(unuseddoses/dosesinvial):0;
		$(currrowobj).find(".unusedinv").val(invials);
	}
	function calculateclosing(currrowobj){
		//calculate and fill closing balance in doses and vials
		var obdoses = parseInt($(currrowobj).find(".ob").text()) || 0;
		var recdoses = parseInt($(currrowobj).find(".received").text()) || 0;
		var totalstock = obdoses+recdoses;
		var useddoses = parseInt($(currrowobj).find(".usedind").val()) || 0;
		var unuseddoses = parseInt($(currrowobj).find(".unusedind").val()) || 0;
		var totalconsume = useddoses+unuseddoses;
		var closingdoses = obdoses+recdoses-useddoses-unuseddoses;
		if(closingdoses>=0){			
			var vaccinated = parseInt($(currrowobj).find(".childvacc").val()) || 0;
			if(vaccinated>0 && vaccinated>totalconsume){				
				$(currrowobj).css("background-color","#F54F4F");
				alert("Total Doses Consumed cannot be less than total Children Vaccinated / Doses Administered");
				return false;
			}else{
				$(currrowobj).css("background-color","#FFF");
				//set closing balance and calculate closing vials
				$(currrowobj).find(".closingind").val(closingdoses);
				var dosesinvial = parseInt($(currrowobj).find(".doses").text()) || 1;
				var closingvials = closingdoses/dosesinvial;
				$(currrowobj).find(".closinginv").val(closingvials);
				return true;
			}			
		}else{
			//there is some error in balance, it can't be in minus
			$(currrowobj).css("background-color","#F54F4F");
			if(totalconsume > totalstock){
				alert("Used+Unused Doses/Vails cannot be greater than received+Opening balance");
				return false;
			}
		}
	}
	$(document).on('change','.childvacc',function(){
		var obdoses = parseInt($(this).closest("tr").find(".ob").text()) || 0;
		var recdoses = parseInt($(this).closest("tr").find(".received").text()) || 0;
		var totalstock = obdoses+recdoses;
		var vaccinated = parseInt($(this).val()) || 0;
		if(vaccinated>0 && vaccinated>totalstock){
			$(this).css("background-color","#F54F4F");
			alert("Number of Children Vaccinated cannot be greater than total Available stock in doses.");
		}else{
			$(this).css("background-color","#FFF");
		}
	});
	$(document).on('change','.usedinv,.unusedinv',function(){
		filluseddoses($(this).closest("tr"));
		fillunuseddoses($(this).closest("tr"));
		calculateclosing($(this).closest("tr"));
	});
	$(document).on('change','.usedind,.unusedind',function(){
		fillusedvials($(this).closest("tr"));
		fillunusedvials($(this).closest("tr"));
		calculateclosing($(this).closest("tr"));
	});
	function enablesavedisableentry(){
		$( "#consumptionform input:enabled, #consumptionform select:enabled" ).each(function(){
			if($(this).attr("id")!=="accepted"){
				$(this).addClass("moontempdisabled");
				$(this).attr("disabled","disabled");
			}
		});
		$("#savebtn").removeAttr("disabled");				
	}
	function disablesaveenableentry(){
		$( "#consumptionform" ).find(".moontempdisabled").each(function(){
			if($(this).attr("id")!=="accepted"){
				$(this).removeClass("moontempdisabled");
				$(this).removeAttr("disabled");
			}
		});
		$("#savebtn").attr("disabled","disabled");
	}
	$(document).on('change','#accepted',function(){
		if(this.checked) {
			//check is basic fields selected or not
			//perform client side validation and set variable validated-------- work remaining
			var count = $(".onebatch").length;
			if(count>0){
				var validated = true;
				$(".onebatch").each(function(){
					validated = calculateclosing($(this).closest("tr"));
					if(validated){}else{return false;}
				});				
				if(validated){
					//enable save button and disable data entry
					enablesavedisableentry();
				}else{
					//disable save button and enable data entry again
					disablesaveenableentry();
					$(this).prop("checked",false);
				}
			}else{
				alert("There is no item exist in form, You can't Save form.");
				$(this).prop("checked",false);
			}
		}else{
			//disable save button and enable data entry again
			disablesaveenableentry();
		}
	});
	$(document).on('click','#savebtn',function(){
		$( "#consumptionform input:disabled, #consumptionform select:disabled" ).each(function(){			
			$(this).removeAttr("disabled");
		});
		$("#savebtn").attr("disabled","disabled");
		$(this.form).submit();
	});
	
});	

</script>